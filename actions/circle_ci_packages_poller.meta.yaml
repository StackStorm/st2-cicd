---
name: circle_ci_packages_poller
description: Poll for circle ci packages for a particular st2 git commit sha.
enabled: true
runner_type: mistral-v2
entry_point: workflows/circle_ci_packages_poller.yaml
parameters:
  st2_repo:
    type: string
    description: st2 repo.
    required: true
    default: "https://github.com/StackStorm/st2"
  st2_branch:
    type: string
    description: st2 branch.
    required: true
  st2_revision:
    type: string
    description: st2 commit SHA.
    required: true
  environment:
    type: string
    description: test environment (prod or staging)
    required: true
  circle_token:
    type: string
    description: Circle CI auth token.
    required: true
    default: "{{system.circle_ci_token}}"
  circle_project:
    type: string
    description: "Project name in Circle CI where packages are built."
    required: true
  distro:
    type: string
    description: "Distro for which tests need to be kickedoff."
    required: true
  workflow:
    default: st2cd.mistral_release_candidate.main
    immutable: true
    type: string
