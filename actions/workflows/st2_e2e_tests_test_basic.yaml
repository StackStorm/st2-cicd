---
version: '2.0'

st2cd.st2_e2e_tests_test_basic:
    type: direct
    input:
        - host
        - env
    tasks:
        test_core_local:
            action: core.remote
            input:
                hosts: <% $.host %>
                env: <% $.env %>
                cmd: st2 run core.local date
        test_core_http:
            action: core.remote
            input:
                hosts: <% $.host %>
                env: <% $.env %>
                cmd: st2 run core.http url=https://www.google.com
        test_core_remote_single_host:
            action: core.remote
            input:
                hosts: <% $.host %>
                env: <% $.env %>
                cmd: st2 run core.remote hosts=<% $.host %> hostname
